{
    "sourceFile": "src/app/components/skillchat/skillchat.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 61,
            "patches": [
                {
                    "date": 1719634998473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719760708101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,72 @@\n-import { Component } from '@angular/core';\r\n+import { Component, OnInit } from '@angular/core';\r\n import { AsideComponent } from \"../aside/aside.component\";\r\n+import { HeaderComponent } from \"../header/header.component\";\r\n+import { Sesion } from '../../models/sesion';\r\n+import { Amistades } from '../../models/amistades';\r\n+import { SesionService } from '../../service/sesionService';\r\n+import { AmistadesService } from '../../service/amistadesService';\r\n+import { Router } from '@angular/router';\r\n+import { CommonModule } from '@angular/common';\r\n+import { PerfilService } from '../../service/perfilService';\r\n+import { Perfil } from '../../models/perfil';\r\n+import { Observable } from 'rxjs';\r\n \r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n     templateUrl: './skillchat.component.html',\r\n     styleUrl: './skillchat.component.css',\r\n-    imports: [AsideComponent]\r\n+    imports: [AsideComponent, HeaderComponent,CommonModule]\r\n })\r\n-export class SkillchatComponent {\r\n+export class SkillchatComponent implements OnInit {\r\n+    sesion!: Sesion;\r\n+    amistades!: Amistades[];\r\n+    perfiles: { [key: number]: Perfil } = {};\r\n+\r\n+    constructor(\r\n+      private sesionService: SesionService,\r\n+      private amistadesService: AmistadesService,\r\n+      private perfilService:PerfilService,\r\n+      private router: Router\r\n+    ) {}\r\n+  \r\n+    ngOnInit(): void {\r\n+      // Obtener la sesión\r\n+      this.sesionService.obtenerSesion().subscribe((response) => {\r\n+        console.log(response);\r\n+        this.sesion = response;\r\n+        if (this.sesion) {\r\n+          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId)\r\n+            .subscribe((response) => {\r\n+              console.log(response);\r\n+              this.amistades = response;\r\n+            });\r\n+        }\r\n+      });\r\n+\r\n+\r\n+      this.amistades.forEach(amistad => {\r\n+        this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n+          perfil => {\r\n+            this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n+          },\r\n+          error => {\r\n+            console.error('Error obteniendo el perfil:', error);\r\n+          }\r\n+        );\r\n+      });\r\n+\r\n+    }\r\n+\r\n+\r\n+\r\n+    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n+        return this.perfiles[usuarioId];\r\n+    }\r\n+\r\n+    nombreCompleto(perfil:Perfil):string{\r\n+        return perfil.nombre + \" \" + perfil.apellido;\r\n+    }\r\n }\r\n \r\n"
                },
                {
                    "date": 1719760724039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,11 +49,8 @@\n       this.amistades.forEach(amistad => {\r\n         this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n           perfil => {\r\n             this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n-          },\r\n-          error => {\r\n-            console.error('Error obteniendo el perfil:', error);\r\n           }\r\n         );\r\n       });\r\n \r\n"
                },
                {
                    "date": 1719760734491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,10 +36,9 @@\n       this.sesionService.obtenerSesion().subscribe((response) => {\r\n         console.log(response);\r\n         this.sesion = response;\r\n         if (this.sesion) {\r\n-          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId)\r\n-            .subscribe((response) => {\r\n+          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId)            .subscribe((response) => {\r\n               console.log(response);\r\n               this.amistades = response;\r\n             });\r\n         }\r\n"
                },
                {
                    "date": 1719760871130,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n       this.sesionService.obtenerSesion().subscribe((response) => {\r\n         console.log(response);\r\n         this.sesion = response;\r\n         if (this.sesion) {\r\n-          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId)            .subscribe((response) => {\r\n+          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n               console.log(response);\r\n               this.amistades = response;\r\n             });\r\n         }\r\n@@ -56,9 +56,9 @@\n     }\r\n \r\n \r\n \r\n-    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n+    obtenerPerfil(usuarioId: number): Perfil {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n     nombreCompleto(perfil:Perfil):string{\r\n"
                },
                {
                    "date": 1719760974939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,8 @@\n import { Router } from '@angular/router';\r\n import { CommonModule } from '@angular/common';\r\n import { PerfilService } from '../../service/perfilService';\r\n import { Perfil } from '../../models/perfil';\r\n-import { Observable } from 'rxjs';\r\n \r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n"
                },
                {
                    "date": 1719761030301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,37 @@\n     imports: [AsideComponent, HeaderComponent,CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n-    amistades!: Amistades[];\r\n+    amistades!: Amistades[] = [\r\n+      {\r\n+        \"amistadID\": 1,\r\n+        \"fechaAmistad\": \"2023-01-03\",\r\n+        \"amistadAceptada\": true,\r\n+        \"usuario\": {\r\n+            \"usuarioId\": 1,\r\n+            \"correo\": \"admin@example.com\",\r\n+            \"contrasenia\": \"contrasenia1\",\r\n+            \"fechaRegistro\": \"2023-01-01\",\r\n+            \"estado\": true,\r\n+            \"obj_tipoUsuario\": {\r\n+                \"tipoUsuarioID\": 1,\r\n+                \"descripcion\": \"Admin\"\r\n+            }\r\n+        },\r\n+        \"obj_Amigo\": {\r\n+            \"usuarioId\": 2,\r\n+            \"correo\": \"usuario@example.com\",\r\n+            \"contrasenia\": \"contrasenia2\",\r\n+            \"fechaRegistro\": \"2023-01-02\",\r\n+            \"estado\": true,\r\n+            \"obj_tipoUsuario\": {\r\n+                \"tipoUsuarioID\": 2,\r\n+                \"descripcion\": \"Usuario\"\r\n+            }\r\n+        }\r\n+    }\r\n+    ];\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n       private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719761035452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n     imports: [AsideComponent, HeaderComponent,CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n-    amistades!: Amistades[] = [\r\n+    amistades: Amistades[] = [\r\n       {\r\n         \"amistadID\": 1,\r\n         \"fechaAmistad\": \"2023-01-03\",\r\n         \"amistadAceptada\": true,\r\n"
                },
                {
                    "date": 1719761052152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [\r\n       {\r\n         \"amistadID\": 1,\r\n-        \"fechaAmistad\": \"2023-01-03\",\r\n+        \"fechaAmistad\": \"2023/01-03\",\r\n         \"amistadAceptada\": true,\r\n         \"usuario\": {\r\n             \"usuarioId\": 1,\r\n             \"correo\": \"admin@example.com\",\r\n"
                },
                {
                    "date": 1719761059615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [\r\n       {\r\n         \"amistadID\": 1,\r\n-        \"fechaAmistad\": \"2023/01-03\",\r\n+        \"fechaAmistad\": Date\"2023-01-03\",\r\n         \"amistadAceptada\": true,\r\n         \"usuario\": {\r\n             \"usuarioId\": 1,\r\n             \"correo\": \"admin@example.com\",\r\n"
                },
                {
                    "date": 1719761087532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,37 +19,9 @@\n     imports: [AsideComponent, HeaderComponent,CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n-    amistades: Amistades[] = [\r\n-      {\r\n-        \"amistadID\": 1,\r\n-        \"fechaAmistad\": Date\"2023-01-03\",\r\n-        \"amistadAceptada\": true,\r\n-        \"usuario\": {\r\n-            \"usuarioId\": 1,\r\n-            \"correo\": \"admin@example.com\",\r\n-            \"contrasenia\": \"contrasenia1\",\r\n-            \"fechaRegistro\": \"2023-01-01\",\r\n-            \"estado\": true,\r\n-            \"obj_tipoUsuario\": {\r\n-                \"tipoUsuarioID\": 1,\r\n-                \"descripcion\": \"Admin\"\r\n-            }\r\n-        },\r\n-        \"obj_Amigo\": {\r\n-            \"usuarioId\": 2,\r\n-            \"correo\": \"usuario@example.com\",\r\n-            \"contrasenia\": \"contrasenia2\",\r\n-            \"fechaRegistro\": \"2023-01-02\",\r\n-            \"estado\": true,\r\n-            \"obj_tipoUsuario\": {\r\n-                \"tipoUsuarioID\": 2,\r\n-                \"descripcion\": \"Usuario\"\r\n-            }\r\n-        }\r\n-    }\r\n-    ];\r\n+    amistades: Amistades[] ;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n       private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719761411422,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,59 +9,56 @@\n import { CommonModule } from '@angular/common';\r\n import { PerfilService } from '../../service/perfilService';\r\n import { Perfil } from '../../models/perfil';\r\n \r\n-\r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n     templateUrl: './skillchat.component.html',\r\n-    styleUrl: './skillchat.component.css',\r\n-    imports: [AsideComponent, HeaderComponent,CommonModule]\r\n+    styleUrls: ['./skillchat.component.css'],\r\n+    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n-    amistades: Amistades[] ;\r\n+    amistades: Amistades[] = [];\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n-      private sesionService: SesionService,\r\n-      private amistadesService: AmistadesService,\r\n-      private perfilService:PerfilService,\r\n-      private router: Router\r\n+        private sesionService: SesionService,\r\n+        private amistadesService: AmistadesService,\r\n+        private perfilService: PerfilService,\r\n+        private router: Router\r\n     ) {}\r\n-  \r\n+\r\n     ngOnInit(): void {\r\n-      // Obtener la sesión\r\n-      this.sesionService.obtenerSesion().subscribe((response) => {\r\n-        console.log(response);\r\n-        this.sesion = response;\r\n-        if (this.sesion) {\r\n-          this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n-              console.log(response);\r\n-              this.amistades = response;\r\n-            });\r\n-        }\r\n-      });\r\n+        // Obtener la sesión\r\n+        this.sesionService.obtenerSesion().subscribe((response) => {\r\n+            console.log(response);\r\n+            this.sesion = response;\r\n+            if (this.sesion) {\r\n+                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n+                    console.log(response);\r\n+                    this.amistades = response;\r\n+                    this.cargarPerfiles();\r\n+                });\r\n+            }\r\n+        });\r\n+    }\r\n \r\n-\r\n-      this.amistades.forEach(amistad => {\r\n-        this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n-          perfil => {\r\n-            this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n-          }\r\n-        );\r\n-      });\r\n-\r\n+    cargarPerfiles(): void {\r\n+        this.amistades.forEach(amistad => {\r\n+            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n+                perfil => {\r\n+                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n+                }\r\n+            );\r\n+        });\r\n     }\r\n \r\n-\r\n-\r\n-    obtenerPerfil(usuarioId: number): Perfil {\r\n+    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n-    nombreCompleto(perfil:Perfil):string{\r\n+    nombreCompleto(perfil: Perfil): string {\r\n         return perfil.nombre + \" \" + perfil.apellido;\r\n     }\r\n }\r\n-\r\n"
                },
                {
                    "date": 1719761427785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,5 +60,9 @@\n \r\n     nombreCompleto(perfil: Perfil): string {\r\n         return perfil.nombre + \" \" + perfil.apellido;\r\n     }\r\n+    trackByFn(index: number, item: Amistades): number {\r\n+      return item.obj_Amigo.usuarioId;\r\n+  }\r\n+  \r\n }\r\n"
                },
                {
                    "date": 1719761668084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,70 @@\n+import { Component, OnInit } from '@angular/core';\r\n+import { AsideComponent } from \"../aside/aside.component\";\r\n+import { HeaderComponent } from \"../header/header.component\";\r\n+import { Sesion } from '../../models/sesion';\r\n+import { Amistades } from '../../models/amistades';\r\n+import { SesionService } from '../../service/sesionService';\r\n+import { AmistadesService } from '../../service/amistadesService';\r\n+import { Router } from '@angular/router';\r\n+import { CommonModule } from '@angular/common';\r\n+import { PerfilService } from '../../service/perfilService';\r\n+import { Perfil } from '../../models/perfil';\r\n+\r\n+@Component({\r\n+    selector: 'app-skillchat',\r\n+    standalone: true,\r\n+    templateUrl: './skillchat.component.html',\r\n+    styleUrls: ['./skillchat.component.css'],\r\n+    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n+})\r\n+export class SkillchatComponent implements OnInit {\r\n+    sesion!: Sesion;\r\n+    amistades: Amistades[] = [];\r\n+    \r\n+    perfiles: { [key: number]: Perfil } = {};\r\n+\r\n+    constructor(\r\n+        private sesionService: SesionService,\r\n+        private amistadesService: AmistadesService,\r\n+        private perfilService: PerfilService,\r\n+        private router: Router\r\n+    ) {}\r\n+\r\n+    ngOnInit(): void {\r\n+        // Obtener la sesión\r\n+        this.sesionService.obtenerSesion().subscribe((response) => {\r\n+            console.log(response);\r\n+            this.sesion = response;\r\n+            if (this.sesion) {\r\n+                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n+                    console.log(response);\r\n+                    this.amistades = response;\r\n+                    this.cargarPerfiles();\r\n+                });\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    cargarPerfiles(): void {\r\n+        this.amistades.forEach(amistad => {\r\n+            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n+                perfil => {\r\n+                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n+                }\r\n+            );\r\n+        });\r\n+    }\r\n+\r\n+    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n+        return this.perfiles[usuarioId];\r\n+    }\r\n+\r\n+    nombreCompleto(perfil: Perfil): string {\r\n+        return perfil.nombre + \" \" + perfil.apellido;\r\n+    }\r\n+\r\n+    trackByFn(index: number, item: Amistades): number {\r\n+      return item.obj_Amigo.usuarioId;\r\n+  }\r\n+  \r\n+}\r\n"
                },
                {
                    "date": 1719764566833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n-    \r\n+    chat_\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719764633545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n import { Router } from '@angular/router';\r\n import { CommonModule } from '@angular/common';\r\n import { PerfilService } from '../../service/perfilService';\r\n import { Perfil } from '../../models/perfil';\r\n+import { ChatUsuario } from '../../models/chat-usuario';\r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n@@ -19,9 +20,9 @@\n })\r\n export class SkillchatComponent implements OnInit {\r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n-    chat_\r\n+    chat_usuario!:ChatUsuario\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n@@ -67,72 +68,4 @@\n       return item.obj_Amigo.usuarioId;\r\n   }\r\n   \r\n }\r\n-import { Component, OnInit } from '@angular/core';\r\n-import { AsideComponent } from \"../aside/aside.component\";\r\n-import { HeaderComponent } from \"../header/header.component\";\r\n-import { Sesion } from '../../models/sesion';\r\n-import { Amistades } from '../../models/amistades';\r\n-import { SesionService } from '../../service/sesionService';\r\n-import { AmistadesService } from '../../service/amistadesService';\r\n-import { Router } from '@angular/router';\r\n-import { CommonModule } from '@angular/common';\r\n-import { PerfilService } from '../../service/perfilService';\r\n-import { Perfil } from '../../models/perfil';\r\n-\r\n-@Component({\r\n-    selector: 'app-skillchat',\r\n-    standalone: true,\r\n-    templateUrl: './skillchat.component.html',\r\n-    styleUrls: ['./skillchat.component.css'],\r\n-    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n-})\r\n-export class SkillchatComponent implements OnInit {\r\n-    sesion!: Sesion;\r\n-    amistades: Amistades[] = [];\r\n-    perfiles: { [key: number]: Perfil } = {};\r\n-\r\n-    constructor(\r\n-        private sesionService: SesionService,\r\n-        private amistadesService: AmistadesService,\r\n-        private perfilService: PerfilService,\r\n-        private router: Router\r\n-    ) {}\r\n-\r\n-    ngOnInit(): void {\r\n-        // Obtener la sesión\r\n-        this.sesionService.obtenerSesion().subscribe((response) => {\r\n-            console.log(response);\r\n-            this.sesion = response;\r\n-            if (this.sesion) {\r\n-                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n-                    console.log(response);\r\n-                    this.amistades = response;\r\n-                    this.cargarPerfiles();\r\n-                });\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    cargarPerfiles(): void {\r\n-        this.amistades.forEach(amistad => {\r\n-            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n-                perfil => {\r\n-                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n-                }\r\n-            );\r\n-        });\r\n-    }\r\n-\r\n-    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n-        return this.perfiles[usuarioId];\r\n-    }\r\n-\r\n-    nombreCompleto(perfil: Perfil): string {\r\n-        return perfil.nombre + \" \" + perfil.apellido;\r\n-    }\r\n-    trackByFn(index: number, item: Amistades): number {\r\n-      return item.obj_Amigo.usuarioId;\r\n-  }\r\n-  \r\n-}\r\n"
                },
                {
                    "date": 1719764804568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,11 +18,14 @@\n     styleUrls: ['./skillchat.component.css'],\r\n     imports: [AsideComponent, HeaderComponent, CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n+abrirChat(arg0: number) {\r\n+throw new Error('Method not implemented.');\r\n+}\r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n-    chat_usuario!:ChatUsuario\r\n+    chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719764809696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,11 +18,9 @@\n     styleUrls: ['./skillchat.component.css'],\r\n     imports: [AsideComponent, HeaderComponent, CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n-abrirChat(arg0: number) {\r\n-throw new Error('Method not implemented.');\r\n-}\r\n+\r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n     chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n@@ -58,8 +56,12 @@\n             );\r\n         });\r\n     }\r\n \r\n+    abrirChat(arg0: number) {\r\n+      throw new Error('Method not implemented.');\r\n+      }\r\n+\r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n"
                },
                {
                    "date": 1719764827325,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,11 +56,11 @@\n             );\r\n         });\r\n     }\r\n \r\n-    abrirChat(arg0: number) {\r\n+    abrirChat(usuarioid: number) {\r\n       throw new Error('Method not implemented.');\r\n-      }\r\n+    }\r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n"
                },
                {
                    "date": 1719764911210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,9 @@\n     constructor(\r\n         private sesionService: SesionService,\r\n         private amistadesService: AmistadesService,\r\n         private perfilService: PerfilService,\r\n+        private chatUsuarioService:Chat\r\n         private router: Router\r\n     ) {}\r\n \r\n     ngOnInit(): void {\r\n@@ -57,9 +58,11 @@\n         });\r\n     }\r\n \r\n     abrirChat(usuarioid: number) {\r\n-      throw new Error('Method not implemented.');\r\n+\r\n+\r\n+\r\n     }\r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n"
                },
                {
                    "date": 1719764924276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n     constructor(\r\n         private sesionService: SesionService,\r\n         private amistadesService: AmistadesService,\r\n         private perfilService: PerfilService,\r\n-        private chatUsuarioService:Chat\r\n+        private chatUsuarioService:ChatUsuario,\r\n         private router: Router\r\n     ) {}\r\n \r\n     ngOnInit(): void {\r\n@@ -58,11 +58,19 @@\n         });\r\n     }\r\n \r\n     abrirChat(usuarioid: number) {\r\n+      this.chatUsuarioService.obtenerChatByUsuario(usuarioid).subscribe(\r\n+        (response) => {\r\n+            this.chat_usuario = response;\r\n+            console.log('ChatUsuario:', this.chat_usuario);\r\n+        },\r\n+        (error) => {\r\n+            console.error('Error al obtener el chat:', error);\r\n+        }\r\n+    );\r\n \r\n \r\n-\r\n     }\r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n"
                },
                {
                    "date": 1719764930361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,10 @@\n         });\r\n     }\r\n \r\n     abrirChat(usuarioid: number) {\r\n-      this.chatUsuarioService.obtenerChatByUsuario(usuarioid).subscribe(\r\n+\r\n+      this.chatUsuarioService.(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         },\r\n"
                },
                {
                    "date": 1719764944573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n import { CommonModule } from '@angular/common';\r\n import { PerfilService } from '../../service/perfilService';\r\n import { Perfil } from '../../models/perfil';\r\n import { ChatUsuario } from '../../models/chat-usuario';\r\n+import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n@@ -28,9 +29,9 @@\n     constructor(\r\n         private sesionService: SesionService,\r\n         private amistadesService: AmistadesService,\r\n         private perfilService: PerfilService,\r\n-        private chatUsuarioService:ChatUsuario,\r\n+        private chatUsuarioService:ChatUsuarioService,\r\n         private router: Router\r\n     ) {}\r\n \r\n     ngOnInit(): void {\r\n@@ -59,9 +60,9 @@\n     }\r\n \r\n     abrirChat(usuarioid: number) {\r\n \r\n-      this.chatUsuarioService.(usuarioid).subscribe(\r\n+      this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         },\r\n"
                },
                {
                    "date": 1719764951285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,13 +64,10 @@\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n-        },\r\n-        (error) => {\r\n-            console.error('Error al obtener el chat:', error);\r\n         }\r\n-    );\r\n+        );\r\n \r\n \r\n     }\r\n \r\n"
                },
                {
                    "date": 1719765010119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n export class SkillchatComponent implements OnInit {\r\n \r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n+    amistadActual:Amistad\r\n     chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n@@ -65,9 +66,9 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n-        );\r\n+      );\r\n \r\n \r\n     }\r\n \r\n"
                },
                {
                    "date": 1719765028884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n export class SkillchatComponent implements OnInit {\r\n \r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n-    amistadActual:Amistad\r\n+    amistadActual!:Amistades;\r\n     chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n@@ -68,9 +68,11 @@\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n+      this.amistades\r\n \r\n+\r\n     }\r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n"
                },
                {
                    "date": 1719765036791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n-      this.amistades\r\n+      this.amistadActual = obtenerPerfil\r\n \r\n \r\n     }\r\n \r\n"
                },
                {
                    "date": 1719765042357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,15 +64,18 @@\n \r\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n+            this.amistadActual = obtenerPerfil\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n+\r\n+\r\n         }\r\n       );\r\n \r\n-      this.amistadActual = obtenerPerfil\r\n \r\n \r\n+\r\n     }\r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n"
                },
                {
                    "date": 1719765048069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n \r\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n-            this.amistadActual = obtenerPerfil\r\n+            this.amistadActual = this.obtenerPerfil\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n \r\n \r\n         }\r\n"
                },
                {
                    "date": 1719765053191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n \r\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n-            this.amistadActual = this.obtenerPerfil\r\n+            this.amistadActual = this.obtenerPerfil(this.chat_usuario.)\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n \r\n \r\n         }\r\n"
                },
                {
                    "date": 1719765069070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,92 @@\n+import { Component, OnInit } from '@angular/core';\r\n+import { AsideComponent } from \"../aside/aside.component\";\r\n+import { HeaderComponent } from \"../header/header.component\";\r\n+import { Sesion } from '../../models/sesion';\r\n+import { Amistades } from '../../models/amistades';\r\n+import { SesionService } from '../../service/sesionService';\r\n+import { AmistadesService } from '../../service/amistadesService';\r\n+import { Router } from '@angular/router';\r\n+import { CommonModule } from '@angular/common';\r\n+import { PerfilService } from '../../service/perfilService';\r\n+import { Perfil } from '../../models/perfil';\r\n+import { ChatUsuario } from '../../models/chat-usuario';\r\n+import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n+\r\n+@Component({\r\n+    selector: 'app-skillchat',\r\n+    standalone: true,\r\n+    templateUrl: './skillchat.component.html',\r\n+    styleUrls: ['./skillchat.component.css'],\r\n+    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n+})\r\n+export class SkillchatComponent implements OnInit {\r\n+\r\n+    sesion!: Sesion;\r\n+    amistades: Amistades[] = [];\r\n+    amistadPerfilSelected!:Amistades;\r\n+    chat_usuario!:ChatUsuario;\r\n+    perfiles: { [key: number]: Perfil } = {};\r\n+\r\n+    constructor(\r\n+        private sesionService: SesionService,\r\n+        private amistadesService: AmistadesService,\r\n+        private perfilService: PerfilService,\r\n+        private chatUsuarioService:ChatUsuarioService,\r\n+        private router: Router\r\n+    ) {}\r\n+\r\n+    ngOnInit(): void {\r\n+        // Obtener la sesión\r\n+        this.sesionService.obtenerSesion().subscribe((response) => {\r\n+            console.log(response);\r\n+            this.sesion = response;\r\n+            if (this.sesion) {\r\n+                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n+                    console.log(response);\r\n+                    this.amistades = response;\r\n+                    this.cargarPerfiles();\r\n+                });\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    cargarPerfiles(): void {\r\n+        this.amistades.forEach(amistad => {\r\n+            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n+                perfil => {\r\n+                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n+                }\r\n+            );\r\n+        });\r\n+    }\r\n+\r\n+    abrirChat(usuarioid: number) {\r\n+\r\n+      this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n+        (response) => {\r\n+            this.chat_usuario = response;\r\n+            this.amistadActual = this.obtenerPerfil(usuarioid);\r\n+            console.log('ChatUsuario:', this.chat_usuario);\r\n+\r\n+\r\n+        }\r\n+      );\r\n+\r\n+\r\n+\r\n+\r\n+    }\r\n+\r\n+    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n+        return this.perfiles[usuarioId];\r\n+    }\r\n+\r\n+    nombreCompleto(perfil: Perfil): string {\r\n+        return perfil.nombre + \" \" + perfil.apellido;\r\n+    }\r\n+\r\n+    trackByFn(index: number, item: Amistades): number {\r\n+      return item.obj_Amigo.usuarioId;\r\n+  }\r\n+  \r\n+}\r\n"
                },
                {
                    "date": 1719765076601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n export class SkillchatComponent implements OnInit {\r\n \r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n-    amistadPerfilSelected!:Amistades;\r\n+    amistadPerfilSelected!:Perfil;\r\n     chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n@@ -64,9 +64,9 @@\n \r\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n-            this.amistadActual = this.obtenerPerfil(usuarioid);\r\n+            this.amistad = this.obtenerPerfil(usuarioid);\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n \r\n \r\n         }\r\n@@ -89,96 +89,4 @@\n       return item.obj_Amigo.usuarioId;\r\n   }\r\n   \r\n }\r\n-import { Component, OnInit } from '@angular/core';\r\n-import { AsideComponent } from \"../aside/aside.component\";\r\n-import { HeaderComponent } from \"../header/header.component\";\r\n-import { Sesion } from '../../models/sesion';\r\n-import { Amistades } from '../../models/amistades';\r\n-import { SesionService } from '../../service/sesionService';\r\n-import { AmistadesService } from '../../service/amistadesService';\r\n-import { Router } from '@angular/router';\r\n-import { CommonModule } from '@angular/common';\r\n-import { PerfilService } from '../../service/perfilService';\r\n-import { Perfil } from '../../models/perfil';\r\n-import { ChatUsuario } from '../../models/chat-usuario';\r\n-import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n-\r\n-@Component({\r\n-    selector: 'app-skillchat',\r\n-    standalone: true,\r\n-    templateUrl: './skillchat.component.html',\r\n-    styleUrls: ['./skillchat.component.css'],\r\n-    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n-})\r\n-export class SkillchatComponent implements OnInit {\r\n-\r\n-    sesion!: Sesion;\r\n-    amistades: Amistades[] = [];\r\n-    amistadActual!:Amistades;\r\n-    chat_usuario!:ChatUsuario;\r\n-    perfiles: { [key: number]: Perfil } = {};\r\n-\r\n-    constructor(\r\n-        private sesionService: SesionService,\r\n-        private amistadesService: AmistadesService,\r\n-        private perfilService: PerfilService,\r\n-        private chatUsuarioService:ChatUsuarioService,\r\n-        private router: Router\r\n-    ) {}\r\n-\r\n-    ngOnInit(): void {\r\n-        // Obtener la sesión\r\n-        this.sesionService.obtenerSesion().subscribe((response) => {\r\n-            console.log(response);\r\n-            this.sesion = response;\r\n-            if (this.sesion) {\r\n-                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n-                    console.log(response);\r\n-                    this.amistades = response;\r\n-                    this.cargarPerfiles();\r\n-                });\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    cargarPerfiles(): void {\r\n-        this.amistades.forEach(amistad => {\r\n-            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n-                perfil => {\r\n-                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n-                }\r\n-            );\r\n-        });\r\n-    }\r\n-\r\n-    abrirChat(usuarioid: number) {\r\n-\r\n-      this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n-        (response) => {\r\n-            this.chat_usuario = response;\r\n-            this.amistadActual = this.obtenerPerfil(this.chat_usuario.)\r\n-            console.log('ChatUsuario:', this.chat_usuario);\r\n-\r\n-\r\n-        }\r\n-      );\r\n-\r\n-\r\n-\r\n-\r\n-    }\r\n-\r\n-    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n-        return this.perfiles[usuarioId];\r\n-    }\r\n-\r\n-    nombreCompleto(perfil: Perfil): string {\r\n-        return perfil.nombre + \" \" + perfil.apellido;\r\n-    }\r\n-\r\n-    trackByFn(index: number, item: Amistades): number {\r\n-      return item.obj_Amigo.usuarioId;\r\n-  }\r\n-  \r\n-}\r\n"
                },
                {
                    "date": 1719765093044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n \r\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n-            this.amistad = this.obtenerPerfil(usuarioid);\r\n+            this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n \r\n \r\n         }\r\n"
                },
                {
                    "date": 1719765379695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,10 +66,8 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n-\r\n-\r\n         }\r\n       );\r\n \r\n \r\n"
                },
                {
                    "date": 1719765407257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n import { PerfilService } from '../../service/perfilService';\r\n import { Perfil } from '../../models/perfil';\r\n import { ChatUsuario } from '../../models/chat-usuario';\r\n import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n+import { Chat } from '../../models/chat';\r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n@@ -23,8 +24,9 @@\n \r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n+    chatActual!:Chat;\r\n     chat_usuario!:ChatUsuario;\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n"
                },
                {
                    "date": 1719765413032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,9 @@\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n+            t\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n"
                },
                {
                    "date": 1719765419450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n       this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n-            t\r\n+            this.chatActual= response.obj_chat\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n"
                },
                {
                    "date": 1719765443039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,8 +77,10 @@\n \r\n \r\n     }\r\n \r\n+    obtener\r\n+\r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n"
                },
                {
                    "date": 1719765455879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,8 +68,9 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n+            this.mensajesFromChat \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n@@ -77,9 +78,9 @@\n \r\n \r\n     }\r\n \r\n-    obtener\r\n+    \r\n \r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n"
                },
                {
                    "date": 1719765625998,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,8 +26,9 @@\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n     chatActual!:Chat;\r\n     chat_usuario!:ChatUsuario;\r\n+    mensajesFromChat\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n@@ -68,9 +69,10 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n-            this.mensajesFromChat \r\n+            this.mensajesFromChat = \r\n+\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n"
                },
                {
                    "date": 1719765631433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n     chatActual!:Chat;\r\n     chat_usuario!:ChatUsuario;\r\n-    mensajesFromChat\r\n+    mensajesFromChat!:Mensajes[];\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719765639503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n     chatActual!:Chat;\r\n     chat_usuario!:ChatUsuario;\r\n-    mensajesFromChat!:Mensajes[];\r\n+    mensajesFromChat!:Mensa[];\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719765901087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,9 @@\n import { Perfil } from '../../models/perfil';\r\n import { ChatUsuario } from '../../models/chat-usuario';\r\n import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n import { Chat } from '../../models/chat';\r\n+import { Mensajes } from '../../models/mensajes';\r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n@@ -26,9 +27,9 @@\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n     chatActual!:Chat;\r\n     chat_usuario!:ChatUsuario;\r\n-    mensajesFromChat!:Mensa[];\r\n+    mensajesFromChat!:Mensajes[];\r\n     perfiles: { [key: number]: Perfil } = {};\r\n \r\n     constructor(\r\n         private sesionService: SesionService,\r\n"
                },
                {
                    "date": 1719765959568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,8 +35,9 @@\n         private sesionService: SesionService,\r\n         private amistadesService: AmistadesService,\r\n         private perfilService: PerfilService,\r\n         private chatUsuarioService:ChatUsuarioService,\r\n+        private mensajesService:MensajesService,\r\n         private router: Router\r\n     ) {}\r\n \r\n     ngOnInit(): void {\r\n"
                },
                {
                    "date": 1719766027712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n import { ChatUsuario } from '../../models/chat-usuario';\r\n import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n import { Chat } from '../../models/chat';\r\n import { Mensajes } from '../../models/mensajes';\r\n+import { MensajesService } from '../../service/mensajesService';\r\n \r\n @Component({\r\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n"
                },
                {
                    "date": 1719766033727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n-            this.mensajesFromChat = \r\n+            this.mensajesFromChat \r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n"
                },
                {
                    "date": 1719766041083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,10 +72,11 @@\n         (response) => {\r\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n-            this.mensajesFromChat \r\n \r\n+            thi\r\n+\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n \r\n"
                },
                {
                    "date": 1719766046499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n-            thi\r\n+            this.mensajesService.obtenerMensajesByChat()\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n"
                },
                {
                    "date": 1719766052144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n-            this.mensajesService.obtenerMensajesByChat()\r\n+            this.mensajesService.obtenerMensajesByChat(this.)\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n"
                },
                {
                    "date": 1719766057907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n-            this.mensajesService.obtenerMensajesByChat(this.)\r\n+            this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n"
                },
                {
                    "date": 1719766064671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,11 @@\n             this.chat_usuario = response;\r\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n-            this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe\r\n+            this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n+              (response\r\n+            )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n"
                },
                {
                    "date": 1719766071361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,15 @@\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n-              (response\r\n+              if (this.sesion) {\r\n+                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n+                    console.log(response);\r\n+                    this.amistades = response;\r\n+                    this.cargarPerfiles();\r\n+                });\r\n+            }\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n"
                },
                {
                    "date": 1719766076863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,15 +74,8 @@\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n-              if (this.sesion) {\r\n-                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n-                    console.log(response);\r\n-                    this.amistades = response;\r\n-                    this.cargarPerfiles();\r\n-                });\r\n-            }\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n"
                },
                {
                    "date": 1719766084451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,8 +74,9 @@\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n+              (response)\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n"
                },
                {
                    "date": 1719766092975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,13 @@\n             this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n             this.chatActual= response.obj_chat\r\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n-              (response)\r\n+              (response)=>{\r\n+                \r\n+              }\r\n+                \r\n+              }\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n"
                },
                {
                    "date": 1719766099115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,12 +75,14 @@\n             this.chatActual= response.obj_chat\r\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n               (response)=>{\r\n+                console.log(response);\r\n+                this.amistades = response;\r\n+                this.cargarPerfiles();\r\n+              \r\n                 \r\n               }\r\n-                \r\n-              }\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n"
                },
                {
                    "date": 1719766108603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,12 +76,9 @@\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n               (response)=>{\r\n                 console.log(response);\r\n-                this.amistades = response;\r\n-                this.cargarPerfiles();\r\n-              \r\n-                \r\n+                this.men = response;\r\n               }\r\n             )\r\n \r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n"
                },
                {
                    "date": 1719768473593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,23 +76,16 @@\n \r\n             this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n               (response)=>{\r\n                 console.log(response);\r\n-                this.men = response;\r\n+                this.mensajesFromChat = response;\r\n               }\r\n             )\r\n-\r\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n-\r\n-\r\n-\r\n-\r\n     }\r\n \r\n-    \r\n-\r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n"
                },
                {
                    "date": 1719782224211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,11 @@\n     styleUrls: ['./skillchat.component.css'],\r\n     imports: [AsideComponent, HeaderComponent, CommonModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n+enviarMensaje(_t30: any) {\r\n+throw new Error('Method not implemented.');\r\n+}\r\n \r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n@@ -83,9 +86,8 @@\n             console.log('ChatUsuario:', this.chat_usuario);\r\n         }\r\n       );\r\n     }\r\n-\r\n     obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n         return this.perfiles[usuarioId];\r\n     }\r\n \r\n"
                },
                {
                    "date": 1719782382304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n     selector: 'app-skillchat',\r\n     standalone: true,\r\n     templateUrl: './skillchat.component.html',\r\n     styleUrls: ['./skillchat.component.css'],\r\n-    imports: [AsideComponent, HeaderComponent, CommonModule]\r\n+    imports: [AsideComponent, HeaderComponent, CommonModule,Form]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n enviarMensaje(_t30: any) {\r\n throw new Error('Method not implemented.');\r\n"
                },
                {
                    "date": 1719782502828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,10 @@\n     styleUrls: ['./skillchat.component.css'],\r\n     imports: [AsideComponent, HeaderComponent, CommonModule,FormsModule]\r\n })\r\n export class SkillchatComponent implements OnInit {\r\n-enviarMensaje(_t30: any) {\r\n-throw new Error('Method not implemented.');\r\n-}\r\n \r\n+\r\n     sesion!: Sesion;\r\n     amistades: Amistades[] = [];\r\n     amistadPerfilSelected!:Perfil;\r\n     chatActual!:Chat;\r\n"
                },
                {
                    "date": 1719783378322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,110 @@\n+import { Component, OnInit } from '@angular/core';\r\n+import { AsideComponent } from \"../aside/aside.component\";\r\n+import { HeaderComponent } from \"../header/header.component\";\r\n+import { Sesion } from '../../models/sesion';\r\n+import { Amistades } from '../../models/amistades';\r\n+import { SesionService } from '../../service/sesionService';\r\n+import { AmistadesService } from '../../service/amistadesService';\r\n+import { Router } from '@angular/router';\r\n+import { CommonModule } from '@angular/common';\r\n+import { PerfilService } from '../../service/perfilService';\r\n+import { Perfil } from '../../models/perfil';\r\n+import { ChatUsuario } from '../../models/chat-usuario';\r\n+import { ChatUsuarioService } from '../../service/chatUsuarioService';\r\n+import { Chat } from '../../models/chat';\r\n+import { Mensajes } from '../../models/mensajes';\r\n+import { MensajesService } from '../../service/mensajesService';\r\n+import { FormsModule } from '@angular/forms';\r\n+\r\n+@Component({\r\n+    selector: 'app-skillchat',\r\n+    standalone: true,\r\n+    templateUrl: './skillchat.component.html',\r\n+    styleUrls: ['./skillchat.component.css'],\r\n+    imports: [AsideComponent, HeaderComponent, CommonModule,FormsModule]\r\n+})\r\n+export class SkillchatComponent implements OnInit {\r\n+\r\n+\r\n+    sesion!: Sesion;\r\n+    amistades: Amistades[] = [];\r\n+    amistadPerfilSelected!:Perfil;\r\n+    chatActual!:Chat;\r\n+    chat_usuario!:ChatUsuario;\r\n+    mensajesFromChat!:Mensajes[];\r\n+    perfiles: { [key: number]: Perfil } = {};\r\n+\r\n+    constructor(\r\n+        private sesionService: SesionService,\r\n+        private amistadesService: AmistadesService,\r\n+        private perfilService: PerfilService,\r\n+        private chatUsuarioService:ChatUsuarioService,\r\n+        private mensajesService:MensajesService,\r\n+        private router: Router\r\n+    ) {}\r\n+\r\n+    ngOnInit(): void {\r\n+        // Obtener la sesión\r\n+        this.sesionService.obtenerSesion().subscribe((response) => {\r\n+            console.log(response);\r\n+            this.sesion = response;\r\n+            if (this.sesion) {\r\n+                this.amistadesService.obtenerAmistadesByUsuario(this.sesion.obj_Usuario.usuarioId).subscribe((response) => {\r\n+                    console.log(response);\r\n+                    this.amistades = response;\r\n+                    this.cargarPerfiles();\r\n+                });\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    cargarPerfiles(): void {\r\n+        this.amistades.forEach(amistad => {\r\n+            this.perfilService.obtenerPerfilByUsuario(amistad.obj_Amigo.usuarioId).subscribe(\r\n+                perfil => {\r\n+                    this.perfiles[amistad.obj_Amigo.usuarioId] = perfil;\r\n+                }\r\n+            );\r\n+        });\r\n+    }\r\n+\r\n+    abrirChat(usuarioid: number) {\r\n+\r\n+      this.chatUsuarioService.obtenerChatUsuarioByUsuario(usuarioid).subscribe(\r\n+        (response) => {\r\n+            this.chat_usuario = response;\r\n+            this.amistadPerfilSelected = this.obtenerPerfil(usuarioid)!;\r\n+            this.chatActual= response.obj_chat\r\n+\r\n+            this.mensajesService.obtenerMensajesByChat(this.chatActual.chatId).subscribe(\r\n+              (response)=>{\r\n+                console.log(response);\r\n+                this.mensajesFromChat = response;\r\n+              }\r\n+            )\r\n+            console.log('ChatUsuario:', this.chat_usuario);\r\n+        }\r\n+      );\r\n+    }\r\n+\r\n+    enviarMensaje(mensaje: string) {\r\n+\r\n+        this.mensajesService.\r\n+\r\n+        console.log(mensaje);\r\n+\r\n+    }\r\n+\r\n+    obtenerPerfil(usuarioId: number): Perfil | undefined {\r\n+        return this.perfiles[usuarioId];\r\n+    }\r\n+\r\n+    nombreCompleto(perfil: Perfil): string {\r\n+        return perfil.nombre + \" \" + perfil.apellido;\r\n+    }\r\n+\r\n+    trackByFn(index: number, item: Amistades): number {\r\n+      return item.obj_Amigo.usuarioId;\r\n+  }\r\n+  \r\n+}\r\n"
                }
            ],
            "date": 1719634998473,
            "name": "Commit-0",
            "content": "import { Component } from '@angular/core';\r\nimport { AsideComponent } from \"../aside/aside.component\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-skillchat',\r\n    standalone: true,\r\n    templateUrl: './skillchat.component.html',\r\n    styleUrl: './skillchat.component.css',\r\n    imports: [AsideComponent]\r\n})\r\nexport class SkillchatComponent {\r\n}\r\n\r\n"
        }
    ]
}